(this["webpackJsonpfinance-management-app"]=this["webpackJsonpfinance-management-app"]||[]).push([[0],{207:function(e,t,a){e.exports=a(385)},212:function(e,t,a){},384:function(e,t,a){e.exports=a.p+"static/media/SegoeUI.6581cfae.ttf"},385:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),i=(a(212),a(57)),l=a(444),s=a(185),u=Object(s.a)({palette:{primary:{main:"#64dd17"},secondary:{main:"#ff5252"},tertiary:{main:"#3949ab",dark:"#273377",light:"#606dbb",contrastText:"#fff"}},typography:{fontFamily:"Segoe UI"},shape:{borderRadius:25}}),m=a(41),d=a(6),f=a(58),g=Object(n.createContext)({});function p(){return Object(n.useContext)(g)}var b=a(23);function h(e){return{type:"EDIT_BUDGET",payload:e}}function y(e,t){switch(t.type){case"INIT_CATEGORY":return[].concat(Object(b.a)(e),Object(b.a)(t.payload));case"ADD_CATEGORY":return[].concat(Object(b.a)(e),[t.payload]);case"DELETE_CATEGORY":return e.filter((function(e){return e.id!==t.payload.id}));case"EDIT_CATEGORY":return e.map((function(e){return e.id===t.payload.id?t.payload:e}));default:return e}}function E(e,t){switch(t.type){case"INIT_BUDGET":return[].concat(Object(b.a)(e),Object(b.a)(t.payload));case"ADD_BUDGET":return[].concat(Object(b.a)(e),[t.payload]);case"DELETE_BUDGET":return e.filter((function(e){return e.id!==t.payload.id}));case"EDIT_BUDGET":return e.map((function(e){return e.id===t.payload.id?t.payload:e}));default:return e}}function v(e,t){return{categories:y(e.categories,t),budget:E(e.budget,t)}}var O="http://localhost:3010",j=function(){return fetch("".concat(O,"/budget")).then((function(e){return e.json()})).then((function(e){return e.map((function(e){return Object(m.a)({},e,{date:new Date(e.date)})}))}))},w=a(451),S=a(388),x=a(424),C=a(425),N=a(179),k=a.n(N),T=a(446),R=a(453),D=a(423);function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function B(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var A=r.a.createElement("g",null,r.a.createElement("path",{d:"M76,240c12.1,0,23.1-4.9,31.1-12.7l44.4,22.2c-0.2,1.8-0.6,3.6-0.6,5.5c0,24.8,20.2,45,45,45s45-20.2,45-45 c0-6.9-1.7-13.4-4.5-19.3l60.2-60.2c5.9,2.8,12.4,4.5,19.3,4.5c24.8,0,45-20.2,45-45c0-4.7-0.9-9.1-2.2-13.3l52.3-39.2 c7.1,4.8,15.7,7.6,24.9,7.6c24.8,0,45-20.2,45-45S460.8,0,436,0s-45,20.2-45,45c0,4.7,0.9,9.1,2.2,13.3l-52.3,39.2 c-7.1-4.8-15.7-7.6-24.9-7.6c-24.8,0-45,20.2-45,45c0,6.9,1.7,13.4,4.5,19.3l-60.2,60.2c-5.9-2.8-12.4-4.5-19.3-4.5 c-12.1,0-23.1,4.9-31.1,12.7l-44.4-22.2c0.2-1.8,0.6-3.6,0.6-5.5c0-24.8-20.2-45-45-45s-45,20.2-45,45S51.2,240,76,240z"}),r.a.createElement("path",{d:"M497,482h-16V165c0-8.3-6.7-15-15-15h-60c-8.3,0-15,6.7-15,15v317h-30V255c0-8.3-6.7-15-15-15h-60c-8.3,0-15,6.7-15,15v227 h-30V375c0-8.3-6.7-15-15-15h-60c-8.3,0-15,6.7-15,15v107h-30V315c0-8.3-6.7-15-15-15H46c-8.3,0-15,6.7-15,15v167H15 c-8.3,0-15,6.7-15,15s6.7,15,15,15h482c8.3,0,15-6.7,15-15S505.3,482,497,482z"})),I=function(e){var t=e.svgRef,a=e.title,n=B(e,["svgRef","title"]);return r.a.createElement("svg",z({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,A)},P=r.a.forwardRef((function(e,t){return r.a.createElement(I,z({svgRef:t},e))}));a.p;function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var W=r.a.createElement("style",{type:"text/css"},"\r\n\t.st0{fill:#FF5D5D;}\r\n"),_=r.a.createElement("g",null,r.a.createElement("path",{d:"M23.9,11.6c0-2.5-1-4.9-2.7-6.6c-1.7-1.8-4.1-2.7-6.6-2.7v9.3L23.9,11.6L23.9,11.6z"}),r.a.createElement("path",{d:"M13,13V0h0C9.6,0,6.2,1.4,3.8,3.8C1.4,6.2,0,9.6,0,13c0,7.2,5.8,13,13,13c7.2,0,13-5.8,13-13H13z"})),U=function(e){var t=e.svgRef,a=e.title,n=F(e,["svgRef","title"]);return r.a.createElement("svg",L({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 26 26",style:{enableBackground:"new 0 0 26 26"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,W,_)},M=r.a.forwardRef((function(e,t){return r.a.createElement(U,L({svgRef:t},e))}));a.p;function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function H(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var q=r.a.createElement("style",{type:"text/css"},"\r\n\t.st0{fill:#ABABAB;}\r\n"),V=r.a.createElement("g",{id:"Group_2",transform:"translate(0 0)"},r.a.createElement("g",{id:"Group_1",transform:"translate(0 0)"},r.a.createElement("path",{id:"Path_5",d:"M16,6.6v8.5l5.2,4.2c0.5,0.4,1.2,0.3,1.6-0.1l0,0c0.5-0.5,0.4-1.3-0.1-1.7l-4.6-3.7v-7 c0-0.6-0.5-1.1-1.1-1.1h0C16.5,5.5,16,6,16,6.6z"}),r.a.createElement("path",{id:"Path_6",d:"M17.3,0c-7.2,0-13,5.8-13,13c0,0,0,0,0,0H0l5.6,5.6l0.1,0.2l5.8-5.8H7.2 c0-5.6,4.5-10.1,10.1-10.2c5.6,0,10.1,4.5,10.2,10.1c0,5.6-4.5,10.1-10.1,10.2c-2.7,0-5.3-1.1-7.2-3l-2,2c5.1,5.1,13.3,5.1,18.4,0 s5.1-13.3,0-18.4C24.1,1.4,20.8,0,17.3,0z"}))),Y=function(e){var t=e.svgRef,a=e.title,n=H(e,["svgRef","title"]);return r.a.createElement("svg",G({id:"history",x:"0px",y:"0px",viewBox:"0 0 30.3 26",style:{enableBackground:"new 0 0 30.3 26"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,q,V)},J=r.a.forwardRef((function(e,t){return r.a.createElement(Y,G({svgRef:t},e))}));a.p;function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function $(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var K=r.a.createElement("style",{type:"text/css"},"\r\n\t.st0{fill:#ABABAB;}\r\n"),Q=r.a.createElement("path",{d:"M0.2,1.7l9,12.3c0.1,0.2,0.2,0.4,0.2,0.6v10.3c0,0.7,0.7,1.3,1.4,1l4.7-1.8c0.6-0.2,1-0.8,1-1.4v-8 c0-0.2,0.1-0.4,0.2-0.6l9-12.4C26.3,1,25.8,0,24.9,0H1.1C0.2,0-0.3,1,0.2,1.7z"}),X=function(e){var t=e.svgRef,a=e.title,n=$(e,["svgRef","title"]);return r.a.createElement("svg",Z({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 26 26",style:{enableBackground:"new 0 0 26 26"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,K,Q)},ee=r.a.forwardRef((function(e,t){return r.a.createElement(X,Z({svgRef:t},e))}));a.p;function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ae(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ne=r.a.createElement("path",{id:"Rectangle_21","data-name":"Rectangle 21",className:"cls-1",d:"M0,0H8a8,8,0,0,1,8,8V56a8,8,0,0,1-8,8H0a0,0,0,0,1,0,0V0A0,0,0,0,1,0,0Z"}),re=function(e){var t=e.svgRef,a=e.title,n=ae(e,["svgRef","title"]);return r.a.createElement("svg",te({width:16,height:50,viewBox:"0 0 20 64",ref:t},n),a?r.a.createElement("title",null,a):null,ne)},ce=r.a.forwardRef((function(e,t){return r.a.createElement(re,te({svgRef:t},e))})),oe=(a.p,a(421)),ie=Object(oe.a)((function(e){return{drawer:{width:180},drawerPaper:{width:180,boxShadow:e.shadows[15]},logo:{width:"100%",paddingTop:40,paddingBottom:40,boxShadow:"0px 7px 60px 0px #e6e8fc",fontWeight:e.typography.fontWeightBold,color:e.palette.tertiary.main},nav:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%",fontWeight:e.typography.fontWeightBold,fontSize:15},link:{textDecoration:"none",display:"flex",alignItems:"center",marginBottom:40,color:e.palette.text.secondary,fill:"#ababab","&:hover":{color:e.palette.text.primary,fill:e.palette.text.primary}},activeLink:{textDecoration:"none",display:"flex",alignItems:"center",marginBottom:40,color:e.palette.text.primary,fill:e.palette.secondary.main},rectangleIcon:{marginRight:17,fill:"#fff"},activeRectangleIcon:{marginRight:17,fill:e.palette.secondary.main},summaryIcon:{marginRight:17,height:27},historyIcon:{marginRight:17,marginLeft:-4,height:27},categoriesIcon:{marginRight:17,height:27},graphsIcon:{marginRight:17,marginLeft:-1,height:27},hide:{display:"none"},chevronLeftIcon:{position:"absolute",marginLeft:"73%"},menuIcon:{position:"fixed"},currency:{width:"10ch",height:40,margin:"auto",marginTop:10,fontSize:16},selectRoot:{"&:focus":{background:"none"}}}}));function le(){var e=ie(),t=p(),a=t.currency,c=t.setCurrency,o=Object(D.a)("(min-width:1030px)"),l=Object(n.useState)(window.location.pathname),s=Object(d.a)(l,2),u=s[0],m=s[1],f=Object(n.useState)(!0),g=Object(d.a)(f,2),b=g[0],h=g[1];Object(n.useEffect)((function(){h(o)}),[o]);var y=function(){o||h(!b)};return r.a.createElement("div",null,r.a.createElement(x.a,null),r.a.createElement(C.a,{color:"inherit",onClick:y,className:o?e.hide:e.menuIcon},r.a.createElement(k.a,null)),r.a.createElement(w.a,{open:b,className:e.drawer,classes:{paper:e.drawerPaper},variant:o?"persistent":"temporary",anchor:"left",onClick:y},r.a.createElement(S.a,{className:e.logo,variant:"h4",align:"center"},"Finance"),r.a.createElement(T.a,{className:e.currency,classes:{root:e.selectRoot},variant:"outlined",value:a,onChange:function(e){return c(e.target.value)}},r.a.createElement(R.a,{value:"USD"},"USD"),r.a.createElement(R.a,{value:"AMD"},"AMD"),r.a.createElement(R.a,{value:"EUR"},"EUR")),r.a.createElement("nav",{className:e.nav},r.a.createElement(i.b,{to:"/",onClick:function(){return m("/")},className:"/"===u?e.activeLink:e.link},r.a.createElement(ce,{className:"/"===u?e.activeRectangleIcon:e.rectangleIcon}),r.a.createElement(M,{className:e.summaryIcon}),"Summary"),r.a.createElement(i.b,{to:"/History",onClick:function(){return m("/History")},className:"/History"===u?e.activeLink:e.link},r.a.createElement(ce,{className:"/History"===u?e.activeRectangleIcon:e.rectangleIcon}),r.a.createElement(J,{className:e.historyIcon}),"History"),r.a.createElement(i.b,{to:"/Categories",onClick:function(){return m("/Categories")},className:"/Categories"===u?e.activeLink:e.link},r.a.createElement(ce,{className:"/Categories"===u?e.activeRectangleIcon:e.rectangleIcon}),r.a.createElement(ee,{className:e.categoriesIcon}),"Categories"),r.a.createElement(i.b,{to:"/Charts",onClick:function(){return m("/Charts")},className:"/Charts"===u?e.activeLink:e.link},r.a.createElement(ce,{className:"/Charts"===u?e.activeRectangleIcon:e.rectangleIcon}),r.a.createElement(P,{className:e.graphsIcon}),"Charts"))))}var se=a(437),ue=a(441),me=a(440),de=a(436),fe=a(438),ge=a(439),pe=a(137),be=a(435),he=a(4),ye=a(450),Ee=a(430),ve=a(433),Oe=a(454),je=a(431),we=a(432),Se=a(434),xe=a(455),Ce=a(24),Ne=a(445),ke=a(110),Te=a(7),Re=a(429),De=a(111),ze=Object(oe.a)((function(e){var t;return{addButtons:(t={display:"flex",justifyContent:"space-between",width:290,marginRight:30},Object(Te.a)(t,e.breakpoints.down("md"),{width:250}),Object(Te.a)(t,e.breakpoints.down("sm"),{margin:"auto",marginLeft:4,width:260}),t),addIncome:Object(Te.a)({color:"#000",fontSize:16,"&:hover":{backgroundColor:Re.a.A200}},e.breakpoints.down("md"),{fontSize:14}),addExpense:Object(Te.a)({color:"#000",fontSize:16,"&:hover":{backgroundColor:De.a.A100}},e.breakpoints.down("md"),{fontSize:14}),titleIncome:{backgroundColor:e.palette.primary.main,color:e.palette.common.white,textAlign:"center"},titleExpence:{backgroundColor:e.palette.secondary.light,color:e.palette.common.white,textAlign:"center"},item:{width:"80%",margin:"auto",marginTop:20,marginBottom:15},date:{width:"50%",margin:"auto"},dialogAction:{margin:"auto"},actionButton:{margin:15,width:100}}})),Be=a(449),Ae=a(448);function Ie(e){var t=e.type,a=e.open,n=e.setOpen,c=function(e){return"add"===e?{severity:"success",message:"Added successfully"}:"edit"===e?{severity:"success",message:"Edited successfully"}:"delete"===e?{severity:"success",message:"Deleted successfully"}:"cancel"===e?{severity:"warning",message:"The action is canceled"}:"error"===e?{severity:"error",message:"Error: Server is not responding"}:{severity:"",message:""}}(t),o=c.severity,i=c.message,l=function(){n(!1)};return r.a.createElement(Be.a,{open:a,autoHideDuration:3e3,onClose:l},r.a.createElement(Ae.a,{variant:"filled",severity:o,onClose:l},i))}function Pe(){var e=ze(),t=p(),a=t.state,c=t.dispatch,o=t.rate,i=t.currency,l=Object(n.useState)(""),s=Object(d.a)(l,2),u=s[0],f=s[1],g=Object(n.useState)(""),b=Object(d.a)(g,2),h=b[0],y=b[1],E=Object(n.useState)(""),v=Object(d.a)(E,2),j=v[0],w=v[1],S=Object(n.useState)(""),x=Object(d.a)(S,2),C=x[0],N=x[1],k=Object(n.useState)(""),D=Object(d.a)(k,2),z=D[0],B=D[1],A=Object(n.useState)(new Date),I=Object(d.a)(A,2),P=I[0],L=I[1],F=Object(n.useState)(""),W=Object(d.a)(F,2),_=W[0],U=W[1],M=Object(n.useState)(!1),G=Object(d.a)(M,2),H=G[0],q=G[1],V=Object(n.useState)(""),Y=Object(d.a)(V,2),J=Y[0],Z=Y[1],$=Object(n.useState)(!1),K=Object(d.a)($,2),Q=K[0],X=K[1],ee=""===j||""===h||""===z||null===P||""!==_;return r.a.createElement("div",null,r.a.createElement("div",{className:e.addButtons},r.a.createElement(Ee.a,{className:e.addIncome,onClick:function(){"expense"===u&&w(""),f("income"),q(!0)},color:"primary",variant:"outlined"},"Add income"),r.a.createElement(Ee.a,{className:e.addExpense,onClick:function(){"income"===u&&w(""),f("expense"),q(!0)},color:"secondary",variant:"outlined"},"Add expense")),r.a.createElement(je.a,{fullWidth:!0,maxWidth:"xs",open:H,onClose:function(){q(!1)}},r.a.createElement(we.a,{className:"expense"===u?e.titleExpence:e.titleIncome},"Add ".concat(u)),r.a.createElement(ve.a,{className:e.item},r.a.createElement(Oe.a,null,"Category"),r.a.createElement(T.a,{value:j,onChange:function(e){var t=a.categories.find((function(t){return t.name===e.target.value}));N(t.color),w(e.target.value)}},a.categories.filter((function(e){return e.type===u})).map((function(e){return r.a.createElement(R.a,{value:e.name,key:e.id},e.name)})))),r.a.createElement(xe.a,{className:e.item,label:"Name",value:h,onChange:function(e){y(e.target.value)}}),r.a.createElement(xe.a,{className:e.item,label:"Amount",value:z,onChange:function(e){var t=e.target.value,a=!!/^[1-9]/.test(t)&&/^[0-9]+$/.test(t)?t:t.slice(0,-1);B(a)}}),r.a.createElement(Ce.a,{utils:ke.a},r.a.createElement(Ne.a,{className:e.date,format:"dd/MM/yyyy",margin:"normal",label:"Date",onError:function(e){U(e)},value:P,onChange:function(e){L(e)},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(Se.a,{className:e.dialogAction},r.a.createElement(Ee.a,{className:e.actionButton,onClick:function(){q(!1),Z("cancel"),X(!0)},color:"secondary"},"Cancel"),r.a.createElement(Ee.a,{className:e.actionButton,disabled:ee,onClick:function(){var e,t={id:Object(ye.a)(),type:u,name:h,amount:+z,date:P,category:j,color:C};q(!1),f(""),y(""),w(""),N(""),B(""),L(new Date),(e=Object(m.a)({},t,{amount:Math.ceil(t.amount/o[i])}),fetch("".concat(O,"/budget"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).then((function(){return c(function(e){return{type:"ADD_BUDGET",payload:e}}(t))})).then((function(){return Z("add"),void X(!0)})).catch((function(){return Z("error"),void X(!0)}))},color:"primary"},"Done"))),r.a.createElement(Ie,{type:J,open:Q,setOpen:X}))}var Le=Object(oe.a)((function(e){var t;return{root:Object(Te.a)({marginTop:-20,display:"flex",justifyContent:"space-between",alignItems:"center",width:"96%"},e.breakpoints.down("sm"),{width:"100%",flexDirection:"column",height:"160px"}),amounts:{display:"flex"},item:(t={borderLeft:"1px solid #707070",paddingLeft:40,marginLeft:50,minWidth:150},Object(Te.a)(t,e.breakpoints.down("md"),{paddingLeft:30,marginLeft:40,minWidth:130}),Object(Te.a)(t,e.breakpoints.down("sm"),{paddingLeft:10,marginLeft:20,minWidth:100}),t),current:Object(Te.a)({fontFamily:"Segoe UI",fontSize:30,textAlign:"center",letterSpacing:2,transform:"scaleY(0.9)"},e.breakpoints.down("md"),{fontSize:25}),text:Object(Te.a)({fontFamily:"Segoe UI",fontWeight:300,fontSize:13},e.breakpoints.down("md"),{fontSize:11}),span:{display:"flex",justifyContent:"space-between"},balance:{color:"#363D99",fontWeight:900},income:{color:"#2EE152",fontWeight:900},expense:{color:"#FF5D5D",fontWeight:900},name:Object(Te.a)({color:e.palette.grey[600],fontFamily:"Segoe UI",fontWeight:600,fontSize:23,textTransform:"capitalize",textAlign:"center"},e.breakpoints.down("md"),{fontSize:20})}}));function Fe(){var e=Le(),t=p().state,a=t.budget.filter((function(e){return"income"===e.type})),n=t.budget.filter((function(e){return"expense"===e.type})),c=a.reduce((function(e,t){return t.date.getTime()<=(new Date).getTime()?e+ +t.amount:e}),0),o=a.reduce((function(e,t){return t.date.getTime()>(new Date).getTime()?e+ +t.amount:e}),0),i=c+o,l=n.reduce((function(e,t){return t.date.getTime()<=(new Date).getTime()?e+ +t.amount:e}),0),s=n.reduce((function(e,t){return t.date.getTime()>(new Date).getTime()?e+ +t.amount:e}),0),u=l+s,m=c-l,d=o-s,f=m+d,g=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},b=[{name:"balance",currentAmount:g(m),upcomingAmount:g(d),totalAmount:g(f)},{name:"income",currentAmount:0===c?c:"+".concat(g(c)),upcomingAmount:0===o?o:"+".concat(g(o)),totalAmount:0===i?i:"+".concat(g(i))},{name:"expense",currentAmount:0===l?l:"-".concat(g(l)),upcomingAmount:0===s?s:"-".concat(g(s)),totalAmount:0===u?u:"-".concat(g(u))}];return r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.amounts},b.map((function(t){return r.a.createElement("div",{key:t.name,className:e.item},r.a.createElement(S.a,{className:e.name},t.name),r.a.createElement(S.a,{className:Object(he.a)(e.current,e[t.name])},t.currentAmount),r.a.createElement("div",{className:e.span},r.a.createElement(S.a,{className:e.text},"Upcoming:"),r.a.createElement(S.a,{className:e.text},t.upcomingAmount)),r.a.createElement("div",{className:e.span},r.a.createElement(S.a,{className:e.text},"Total:"),r.a.createElement(S.a,{className:e.text},t.totalAmount)))}))),r.a.createElement(Pe,null))}var We=Object(oe.a)((function(e){return{select:Object(Te.a)({width:"20ch",height:40,fontSize:16},e.breakpoints.down("md"),{fontSize:14,height:35}),label:Object(Te.a)({fontSize:16},e.breakpoints.down("md"),{fontSize:14}),selectRoot:{"&:focus":{background:"none"}}}}));function _e(e){var t=e.isAscending,a=e.setIsAscending,n=We();return r.a.createElement(ve.a,{variant:"outlined"},r.a.createElement(Oe.a,{className:n.label},"Sort by amount"),r.a.createElement(T.a,{className:n.select,classes:{root:n.selectRoot},variant:"outlined",defaultValue:"ascending",onChange:function(){a(!t)},label:"Sort by amount"},r.a.createElement(R.a,{className:n.item,value:"ascending"},"Ascending Order"),r.a.createElement(R.a,{className:n.item,value:"descending"},"Descending Order")))}var Ue=Object(oe.a)((function(e){return{select:Object(Te.a)({width:"20ch",height:40,fontSize:16},e.breakpoints.down("md"),{fontSize:14,height:35}),label:Object(Te.a)({fontSize:16},e.breakpoints.down("md"),{fontSize:14}),selectRoot:{"&:focus":{background:"none"}}}}));function Me(e){var t=e.filterType,a=e.setFilterType,n=Ue();return r.a.createElement(ve.a,{variant:"outlined"},r.a.createElement(Oe.a,{className:n.label},"Type filter"),r.a.createElement(T.a,{className:n.select,classes:{root:n.selectRoot},variant:"outlined",value:t,onChange:function(e){a(e.target.value)},label:"Type filter"},[{value:"all",name:"All"},{value:"expense",name:"Expense"},{value:"income",name:"Income"}].map((function(e){return r.a.createElement(R.a,{className:n.item,key:e.name,value:e.value},e.name)}))))}var Ge=Object(oe.a)((function(e){return{select:Object(Te.a)({width:"20ch",height:40,fontSize:16},e.breakpoints.down("md"),{fontSize:14,height:35}),label:Object(Te.a)({fontSize:16},e.breakpoints.down("md"),{fontSize:14}),selectRoot:{"&:focus":{background:"none"}}}}));function He(e){var t=e.isCurrent,a=e.setIsCurrent,n=Ge();return r.a.createElement(ve.a,{variant:"outlined"},r.a.createElement(Oe.a,{className:n.label},"View"),r.a.createElement(T.a,{className:n.select,classes:{root:n.selectRoot},variant:"outlined",defaultValue:"current",onChange:function(){a(!t)},label:"View"},r.a.createElement(R.a,{className:n.item,value:"current"},"Current state"),r.a.createElement(R.a,{className:n.item,value:"upcoming"},"Upcoming state")))}function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ve(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ye=r.a.createElement("g",{id:"Group_17","data-name":"Group 17",transform:"translate(-1163 -734)"},r.a.createElement("rect",{id:"Rectangle_30","data-name":"Rectangle 30",className:"cls-1",width:6,height:10,rx:1,transform:"translate(1168 734)",fill:"#FF5D5D"}),r.a.createElement("path",{id:"Polygon_2","data-name":"Polygon 2",className:"cls-1",d:"M7.191,1.112a1,1,0,0,1,1.617,0l6.036,8.3A1,1,0,0,1,14.036,11H1.964a1,1,0,0,1-.809-1.588Z",transform:"translate(1179 752) rotate(180)",fill:"#FF5D5D"})),Je=function(e){var t=e.svgRef,a=e.title,n=Ve(e,["svgRef","title"]);return r.a.createElement("svg",qe({width:16,height:18,viewBox:"0 0 16 18",ref:t},n),a?r.a.createElement("title",null,a):null,Ye)},Ze=r.a.forwardRef((function(e,t){return r.a.createElement(Je,qe({svgRef:t},e))}));a.p;function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ke(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Qe=r.a.createElement("g",{id:"Group_13","data-name":"Group 13",transform:"translate(-1163 -647)"},r.a.createElement("rect",{id:"Rectangle_29","data-name":"Rectangle 29",width:6,height:10,rx:1,transform:"translate(1168 655)",fill:"#2ee152"}),r.a.createElement("path",{id:"Polygon_1","data-name":"Polygon 1",d:"M7.191,1.112a1,1,0,0,1,1.617,0l6.036,8.3A1,1,0,0,1,14.036,11H1.964a1,1,0,0,1-.809-1.588Z",transform:"translate(1163 647)",fill:"#2ee152"})),Xe=function(e){var t=e.svgRef,a=e.title,n=Ke(e,["svgRef","title"]);return r.a.createElement("svg",$e({width:16,height:18,viewBox:"0 0 16 18",ref:t},n),a?r.a.createElement("title",null,a):null,Qe)},et=r.a.forwardRef((function(e,t){return r.a.createElement(Xe,$e({svgRef:t},e))})),tt=(a.p,Object(oe.a)((function(e){var t,a;return{root:{display:"flex",flexDirection:"column"},tools:(t={display:"flex",alignItems:"center",justifyContent:"space-between",margin:40,marginLeft:85,width:568},Object(Te.a)(t,e.breakpoints.down("md"),{width:485}),Object(Te.a)(t,e.breakpoints.down("sm"),{margin:"auto",marginTop:20,marginBottom:20,width:"100%",justifyContent:"space-evenly"}),Object(Te.a)(t,e.breakpoints.down("xs"),{flexWrap:"wrap",height:100}),t),tableContainer:Object(Te.a)({width:"96%",alignSelf:"center",boxShadow:e.shadows[5],paddingBottom:50},e.breakpoints.down("sm"),{width:"100%"}),title:(a={color:e.palette.tertiary.main,fontSize:30,fontWeight:900,marginLeft:50,marginTop:30},Object(Te.a)(a,e.breakpoints.down("md"),{marginLeft:40,fontSize:28}),Object(Te.a)(a,e.breakpoints.down("sm"),{fontSize:22,marginLeft:30}),a),table:{width:"94%",margin:"auto"},head:Object(Te.a)({fontWeight:900,fontSize:17,width:"20%"},e.breakpoints.down("sm"),{width:0,fontSize:15}),tableRow:{transition:"transform .2s","&:hover":{transform:"scale(1.01)",backgroundColor:"#e0ebeb"}},category:Object(Te.a)({color:e.palette.tertiary.main,fontSize:17,textTransform:"capitalize"},e.breakpoints.down("sm"),{fontSize:15}),content:Object(Te.a)({fontSize:17,textTransform:"capitalize"},e.breakpoints.down("sm"),{fontSize:15}),icon:{marginRight:10,marginBottom:-4},progress:{margin:"auto",zIndex:e.zIndex.drawer+1}}})));function at(){var e=tt(),t=p(),a=t.state,c=t.loading,o=Object(n.useState)("all"),i=Object(d.a)(o,2),l=i[0],s=i[1],u=Object(n.useState)(!0),f=Object(d.a)(u,2),g=f[0],h=f[1],y=Object(n.useState)(!0),E=Object(d.a)(y,2),v=E[0],O=E[1],j=a.budget.filter((function(e){return e.date.getTime()<=(new Date).getTime()})),w=a.budget.filter((function(e){return e.date.getTime()>(new Date).getTime()})),x=(v?j:w).reduce((function(e,t){return e.some((function(e){return e.category===t.category&&e.type===t.type}))?e:[].concat(Object(b.a)(e),[t])}),[]).map((function(e){var t=a.budget.reduce((function(t,a){return a.category===e.category&&a.type===e.type?t+ +a.amount:t}),0);return Object(m.a)({},e,{amount:t})})),C="all"===l?Object(b.a)(x):x.filter((function(e){return e.type===l}));return C.sort((function(e,t){return g?e.amount-t.amount:t.amount-e.amount})),r.a.createElement("div",{className:e.root},r.a.createElement(Fe,null),r.a.createElement("div",{className:e.tools},r.a.createElement(_e,{isAscending:g,setIsAscending:h}),r.a.createElement(Me,{filterType:l,setFilterType:s}),r.a.createElement(He,{isCurrent:v,setIsCurrent:O})),c?r.a.createElement("div",{className:e.progress},r.a.createElement(be.a,{size:50})):r.a.createElement(de.a,{component:pe.a,className:e.tableContainer},r.a.createElement(S.a,{className:e.title},"Summary"),r.a.createElement(se.a,{className:e.table},r.a.createElement(fe.a,null,r.a.createElement(ge.a,null,r.a.createElement(me.a,{className:e.head},"Category"),r.a.createElement(me.a,{className:e.head,align:"center"},"Type"),r.a.createElement(me.a,{className:e.head,align:"right"},"Amount"))),r.a.createElement(ue.a,null,C.map((function(t){return r.a.createElement(ge.a,{key:t.id,className:e.tableRow},r.a.createElement(me.a,{className:e.category},t.category),r.a.createElement(me.a,{className:e.content,align:"center"},"expense"===t.type?r.a.createElement(Ze,{className:e.icon}):r.a.createElement(et,{className:e.icon}),t.type),r.a.createElement(me.a,{className:e.content,align:"right"},("expense"===t.type?"-":"+")+t.amount))}))))))}var nt=a(107),rt=a(428),ct=Object(oe.a)((function(e){return{button:Object(Te.a)({width:"20ch",fontSize:16,color:"#000",borderColor:"#9fa8da","&:hover":{backgroundColor:"#8c9eff",borderColor:"#3f51b5"}},e.breakpoints.down("md"),{fontSize:14}),dialog:{borderRadius:30},title:{width:"100%",backgroundColor:"#5c6bc0",color:"#fff",textAlign:"center",fontFamily:"Segoe UI",marginBottom:15},itemSize:{width:"80%",margin:"auto",marginBottom:15},dialogAction:{margin:"auto"},actionButton:{margin:15,borderRadius:30,width:100,fontWeight:600},colorPicker:{margin:"auto"},buttonColor:{}}})),ot=["#e53935","#ec407a","#ffcdd2","#ab47bc","#7e57c2","#0D47A1","#29b6f6","#80deea","#26a69a","#9ccc65","#689f38","#afb42b","#fdd835","#FF8F00","#ff7043","#8d6e63","#616161","#78909c"];function it(e){var t=e.setSnackbarType,a=e.setSnackbarOpen,c=ct(),o=p().dispatch,i=Object(n.useState)(""),l=Object(d.a)(i,2),s=l[0],u=l[1],m=Object(n.useState)(""),f=Object(d.a)(m,2),g=f[0],b=f[1],h=Object(n.useState)(""),y=Object(d.a)(h,2),E=y[0],v=y[1],j=Object(n.useState)(!1),w=Object(d.a)(j,2),S=w[0],x=w[1],C=Object(n.useState)(null),N=Object(d.a)(C,2),k=N[0],D=N[1],z=""===g||""===s||""===E;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{variant:"outlined",onClick:function(){x(!0)},className:c.button},"Add Category"),r.a.createElement(je.a,{classes:{paper:c.dialog},fullWidth:!0,maxWidth:"xs",onClose:function(){x(!1)},open:S},r.a.createElement(we.a,{className:c.title},"Add category"),r.a.createElement(ve.a,{className:c.itemSize},r.a.createElement(Oe.a,null,"Category type"),r.a.createElement(T.a,{value:s,onChange:function(e){u(e.target.value)}},r.a.createElement(R.a,{value:"expense"},"Expense"),r.a.createElement(R.a,{value:"income"},"Income"))),r.a.createElement(xe.a,{className:c.itemSize,label:"Category name",value:g,onChange:function(e){b(e.target.value)}}),r.a.createElement("div",{className:c.colorPicker},r.a.createElement(Ee.a,{style:{backgroundColor:E},onClick:function(e){D(e.currentTarget)},variant:"outlined"},"select color"),r.a.createElement(rt.a,{open:Boolean(k),onClick:function(){D(null)},anchorEl:k,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"}},r.a.createElement(R.a,null,r.a.createElement(nt.CirclePicker,{onChange:function(e){v(e.hex)},colors:ot,color:E})))),r.a.createElement(Se.a,{className:c.dialogAction},r.a.createElement(Ee.a,{className:c.actionButton,onClick:function(){x(!1),t("cancel"),a(!0)},color:"secondary"},"Cancel"),r.a.createElement(Ee.a,{className:c.actionButton,disabled:z,onClick:function(){var e,n={id:Object(ye.a)(),type:s,name:g,color:E};u(""),b(""),v(""),x(!1),(e=n,fetch("".concat(O,"/categories"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).then((function(){return o(function(e){return{type:"ADD_CATEGORY",payload:e}}(n))})).then((function(){return t("add"),void a(!0)})).catch((function(){return t("error"),void a(!0)}))},color:"primary"},"Done"))))}var lt=a(3),st=a.n(lt),ut=a(108),mt=a.n(ut),dt=Object(oe.a)({iconButton:{margin:-20},icon:{"&:hover":{transform:"scale(1.2)"}},dialog:{borderRadius:30},dialogTitle:{fontSize:20,textAlign:"center"},dialogAction:{marginTop:-10,marginBottom:10,margin:"auto"},actionButton:{margin:"0 30px",borderRadius:30,width:80,fontWeight:"600"}});function ft(e){var t=e.category,a=e.setSnackbarType,c=e.setSnackbarOpen,o=dt(),i=p().dispatch,l=Object(n.useState)(!1),s=Object(d.a)(l,2),u=s[0],m=s[1],f=function(){m(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{className:o.iconButton,onClick:function(){m(!0)}},r.a.createElement(mt.a,{className:o.icon})),r.a.createElement(je.a,{open:u,onClose:f,classes:{paper:o.dialog}},r.a.createElement(we.a,{className:o.dialogTitle,disableTypography:!0},"Are you sure you want to delete this item?"),r.a.createElement(Se.a,{className:o.dialogAction},r.a.createElement(Ee.a,{onClick:function(){m(!1),a("cancel"),c(!0)},className:o.actionButton,color:"secondary"},"Cancel"),r.a.createElement(Ee.a,{onClick:function(){var e;f(),(e=t,fetch("".concat(O,"/categories/").concat(e.id),{method:"DELETE"})).then((function(){return i(function(e){return{type:"DELETE_CATEGORY",payload:e}}(t))})).then((function(){return a("delete"),void c(!0)})).catch((function(){return a("error"),void c(!0)}))},className:o.actionButton,color:"primary"},"Ok"))))}ft.defaultProps={category:{id:st.a.string.isRequired,type:st.a.string.isRequired,name:st.a.string.isRequired}};var gt=a(109),pt=a.n(gt),bt=Object(oe.a)({dialog:{borderRadius:30},title:{width:"100%",backgroundColor:"#5F80D8",color:"#fff",textAlign:"center",fontFamily:"Segoe UI",marginBottom:15},itemSize:{width:"80%",margin:"auto",marginBottom:15},iconButton:{margin:-20,marginRight:15},icon:{"&:hover":{transform:"scale(1.2)"}},dialogAction:{margin:"auto"},actionButton:{margin:15,borderRadius:30,width:100,fontWeight:600},colorPicker:{margin:"auto"},buttonColor:{}}),ht=["#e53935","#ec407a","#ffcdd2","#ab47bc","#7e57c2","#0D47A1","#29b6f6","#80deea","#26a69a","#9ccc65","#689f38","#afb42b","#fdd835","#FF8F00","#ff7043","#8d6e63","#616161","#78909c"];function yt(e){var t=e.category,a=e.setSnackbarType,c=e.setSnackbarOpen,o=bt(),i=p().dispatch,l=Object(n.useState)(t.type),s=Object(d.a)(l,2),u=s[0],m=s[1],f=Object(n.useState)(t.name),g=Object(d.a)(f,2),b=g[0],h=g[1],y=Object(n.useState)(t.color),E=Object(d.a)(y,2),v=E[0],j=E[1],w=Object(n.useState)(!1),S=Object(d.a)(w,2),x=S[0],N=S[1],k=Object(n.useState)(null),D=Object(d.a)(k,2),z=D[0],B=D[1],A=function(){N(!1)},I=""===b||""===u||""===v||u===t.type&&b===t.name&&v===t.color;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{className:o.iconButton,onClick:function(){N(!0)}},r.a.createElement(pt.a,{className:o.icon})),r.a.createElement(je.a,{classes:{paper:o.dialog},fullWidth:!0,maxWidth:"xs",onClose:A,open:x},r.a.createElement(we.a,{className:o.title},"Edit Category"),r.a.createElement(ve.a,{className:o.itemSize},r.a.createElement(Oe.a,null,"Category type"),r.a.createElement(T.a,{value:u,onChange:function(e){m(e.target.value)}},r.a.createElement(R.a,{value:"expense"},"Expense"),r.a.createElement(R.a,{value:"income"},"Income"))),r.a.createElement(xe.a,{className:o.itemSize,label:"Category name",value:b,onChange:function(e){h(e.target.value)}}),r.a.createElement("div",{className:o.colorPicker},r.a.createElement(Ee.a,{style:{backgroundColor:v},onClick:function(e){B(e.currentTarget)},variant:"outlined"},"select color"),r.a.createElement(rt.a,{open:Boolean(z),onClick:function(){B(null)},anchorEl:z,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"}},r.a.createElement(R.a,null,r.a.createElement(nt.CirclePicker,{onChange:function(e){j(e.hex)},colors:ht,color:v})))),r.a.createElement(Se.a,{className:o.dialogAction},r.a.createElement(Ee.a,{className:o.actionButton,onClick:function(){N(!1),a("cancel"),c(!0)},color:"secondary"},"Cancel"),r.a.createElement(Ee.a,{className:o.actionButton,disabled:I,onClick:function(){var e,n={id:t.id,type:u,name:b,color:v};A(),(e=n,fetch("".concat(O,"/categories/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).then((function(){return i(function(e){return{type:"EDIT_CATEGORY",payload:e}}(n))})).then((function(){return a("edit"),void c(!0)})).catch((function(){return a("error"),void c(!0)}))},color:"primary"},"Done"))))}yt.defaultProps={category:{id:st.a.string.isRequired,type:st.a.string.isRequired,name:st.a.string.isRequired,color:st.a.string.isRequired}};var Et=Object(oe.a)((function(e){var t,a;return{root:{display:"flex",flexDirection:"column"},tools:(t={display:"flex",alignItems:"center",justifyContent:"space-between",margin:40,marginLeft:85,width:370},Object(Te.a)(t,e.breakpoints.down("md"),{width:350}),Object(Te.a)(t,e.breakpoints.down("sm"),{margin:"auto",marginTop:20,marginBottom:20,width:"100%",justifyContent:"space-evenly"}),t),tableContainer:Object(Te.a)({width:"96%",alignSelf:"center",boxShadow:e.shadows[5],paddingBottom:50},e.breakpoints.down("sm"),{width:"100%"}),title:(a={color:e.palette.tertiary.main,fontSize:30,fontWeight:900,marginLeft:50,marginTop:30},Object(Te.a)(a,e.breakpoints.down("md"),{marginLeft:40,fontSize:28}),Object(Te.a)(a,e.breakpoints.down("sm"),{fontSize:22,marginLeft:30}),a),table:{width:"94%",margin:"auto"},icon:{marginRight:10,marginBottom:-4},head:Object(Te.a)({fontWeight:900,fontSize:17,width:"20%"},e.breakpoints.down("sm"),{width:0,fontSize:15}),tableRow:{transition:"transform .2s","&:hover":{transform:"scale(1.01)",backgroundColor:"#e0ebeb"}},name:Object(Te.a)({color:e.palette.tertiary.main,fontSize:17,textTransform:"capitalize"},e.breakpoints.down("sm"),{fontSize:15}),content:Object(Te.a)({fontSize:17,textTransform:"capitalize"},e.breakpoints.down("sm"),{fontSize:15}),progress:{margin:"auto",zIndex:e.zIndex.drawer+1}}}));function vt(){var e=Et(),t=p(),a=t.state,c=t.loading,o=Object(n.useState)("all"),i=Object(d.a)(o,2),l=i[0],s=i[1],u=Object(n.useState)(""),m=Object(d.a)(u,2),f=m[0],g=m[1],h=Object(n.useState)(!1),y=Object(d.a)(h,2),E=y[0],v=y[1],O="all"===l?Object(b.a)(a.categories):a.categories.filter((function(e){return e.type===l}));return r.a.createElement("div",{className:e.root},r.a.createElement(Fe,null),r.a.createElement("div",{className:e.tools},r.a.createElement(it,{setSnackbarType:g,setSnackbarOpen:v}),r.a.createElement(Me,{filterType:l,setFilterType:s})),c?r.a.createElement("div",{className:e.progress},r.a.createElement(be.a,{size:50})):r.a.createElement(de.a,{component:pe.a,className:e.tableContainer},r.a.createElement(S.a,{className:e.title},"Category"),r.a.createElement(se.a,{className:e.table},r.a.createElement(fe.a,null,r.a.createElement(ge.a,null,r.a.createElement(me.a,{className:e.head},"Name"),r.a.createElement(me.a,{className:e.head,align:"center"},"Type"),r.a.createElement(me.a,{className:e.head,align:"right"},"Action"))),r.a.createElement(ue.a,null,O.map((function(t){return r.a.createElement(ge.a,{key:t.id,className:e.tableRow},r.a.createElement(me.a,{className:e.name},t.name),r.a.createElement(me.a,{className:e.content,align:"center"},"expense"===t.type?r.a.createElement(Ze,{className:e.icon}):r.a.createElement(et,{className:e.icon}),t.type),r.a.createElement(me.a,{className:e.content,align:"right"},r.a.createElement(yt,{category:t,setSnackbarType:g,setSnackbarOpen:v}),r.a.createElement(ft,{category:t,setSnackbarType:g,setSnackbarOpen:v})))}))))),r.a.createElement(Ie,{type:f,open:E,setOpen:v}))}var Ot=a(442),jt=a(443),wt=a(447),St=Object(oe.a)((function(e){return{select:Object(Te.a)({width:"20ch",height:40,fontSize:16},e.breakpoints.down("md"),{fontSize:14,height:35}),label:Object(Te.a)({fontSize:16},e.breakpoints.down("md"),{fontSize:14}),selectRoot:{"&:focus":{background:"none"}}}}));function xt(e){var t=e.filterDate,a=e.setFilterDate,n=St();return r.a.createElement("div",null,r.a.createElement(ve.a,{variant:"outlined"},r.a.createElement(Oe.a,{className:n.label},"Period"),r.a.createElement(T.a,{className:n.select,classes:{root:n.selectRoot},value:t,onChange:function(e){a(e.target.value)},label:"Date filter"},[{value:"all",name:"Whole Period"},{value:"daily",name:"Daily"},{value:"monthly",name:"Monthly"},{value:"yearly",name:"Yearly"}].map((function(e){return r.a.createElement(R.a,{className:n.item,key:e.name,value:e.value},e.name)})))))}var Ct=Object(oe.a)({dialog:{borderRadius:30},title:{width:"100%",backgroundColor:"#5F80D8",color:"#fff",textAlign:"center",fontFamily:"Segoe UI",marginBottom:15},itemSize:{width:"80%",margin:"auto",marginBottom:15},date:{width:"40%",margin:"auto"},iconButton:{margin:-20,marginRight:20},icon:{"&:hover":{transform:"scale(1.2)"}},dialogAction:{margin:"auto"},actionButton:{margin:15,borderRadius:30,width:100,fontWeight:600}});function Nt(e){var t=e.budget,a=e.setSnackbarType,c=e.setSnackbarOpen,o=Ct(),i=p(),l=i.state,s=i.dispatch,u=i.rate,f=i.currency,g=Object(n.useState)(t.type),b=Object(d.a)(g,2),y=b[0],E=b[1],v=Object(n.useState)(t.name),j=Object(d.a)(v,2),w=j[0],S=j[1],x=Object(n.useState)(t.category),N=Object(d.a)(x,2),k=N[0],D=N[1],z=Object(n.useState)(t.amount),B=Object(d.a)(z,2),A=B[0],I=B[1],P=Object(n.useState)(t.date),L=Object(d.a)(P,2),F=L[0],W=L[1],_=Object(n.useState)(""),U=Object(d.a)(_,2),M=U[0],G=U[1],H=Object(n.useState)(!1),q=Object(d.a)(H,2),V=q[0],Y=q[1];Object(n.useEffect)((function(){I(t.amount)}),[t]);var J=function(){Y(!1)},Z=""===y||""===k||""===w||""===A||null===F||""!==M||y===t.type&&k===t.category&&w===t.name&&+A===+t.amount&&F.getTime()===t.date.getTime();return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{className:o.iconButton,onClick:function(){Y(!0)}},r.a.createElement(pt.a,{className:o.icon})),r.a.createElement(je.a,{classes:{paper:o.dialog},fullWidth:!0,maxWidth:"xs",onClose:J,open:V},r.a.createElement(we.a,{className:o.title},"Edit item"),r.a.createElement(ve.a,{className:o.itemSize},r.a.createElement(Oe.a,null,"Type"),r.a.createElement(T.a,{value:y,onChange:function(e){D(""),E(e.target.value),D("")}},r.a.createElement(R.a,{value:"expense"},"Expense"),r.a.createElement(R.a,{value:"income"},"Income"))),r.a.createElement(ve.a,{className:o.itemSize},r.a.createElement(Oe.a,null,"Category"),r.a.createElement(T.a,{value:k,onChange:function(e){D(e.target.value)}},l.categories.filter((function(e){return e.type===y})).map((function(e){return r.a.createElement(R.a,{value:e.name,key:e.id},e.name)})))),r.a.createElement(xe.a,{className:o.itemSize,label:"Name",value:w,onChange:function(e){S(e.target.value)}}),r.a.createElement(xe.a,{className:o.itemSize,label:"Amount",value:A,onChange:function(e){var t=e.target.value,a=!!/^[1-9]/.test(t)&&/^[0-9]+$/.test(t)?t:t.slice(0,-1);I(a)}}),r.a.createElement(Ce.a,{utils:ke.a},r.a.createElement(Ne.a,{className:o.date,format:"dd/MM/yyyy",margin:"normal",label:"Date",value:F,onChange:function(e){W(e)},onError:function(e){G(e)},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(Se.a,{className:o.dialogAction},r.a.createElement(Ee.a,{className:o.actionButton,color:"secondary",onClick:function(){Y(!1),a("cancel"),c(!0)}},"Cancel"),r.a.createElement(Ee.a,{className:o.actionButton,disabled:Z,color:"primary",onClick:function(){var e,n=t.id,r=t.color,o={id:n,type:y,name:w,category:k,amount:+A,date:F,color:r};J(),(e=Object(m.a)({},o,{amount:Math.ceil(o.amount/u[f])}),fetch("".concat(O,"/budget/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).then((function(){return s(h(o))})).then((function(){return a("edit"),void c(!0)})).catch((function(){return a("error"),void c(!0)}))}},"Done"))))}Nt.defaultProps={budget:{id:st.a.string.isRequired,type:st.a.string.isRequired,name:st.a.string.isRequired,category:st.a.string.isRequired,color:st.a.string.isRequired,amount:st.a.number.isRequired,date:st.a.instanceOf(Date)}};var kt=Object(oe.a)({iconButton:{margin:-20,marginRight:0},icon:{"&:hover":{transform:"scale(1.2)"}},dialog:{borderRadius:30},dialogTitle:{fontSize:20,textAlign:"center"},dialogAction:{marginTop:-5,marginBottom:10,margin:"auto"},actionButton:{margin:"0 30px",borderRadius:30,width:80,fontWeight:"600"}});function Tt(e){var t=e.budget,a=e.setSnackbarType,c=e.setSnackbarOpen,o=kt(),i=p().dispatch,l=Object(n.useState)(!1),s=Object(d.a)(l,2),u=s[0],m=s[1],f=function(){m(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{className:o.iconButton,onClick:function(){m(!0)}},r.a.createElement(mt.a,{className:o.icon})),r.a.createElement(je.a,{open:u,onClose:f,classes:{paper:o.dialog}},r.a.createElement(we.a,{className:o.dialogTitle,disableTypography:!0},"Are you sure you want to delete this item?"),r.a.createElement(Se.a,{className:o.dialogAction},r.a.createElement(Ee.a,{onClick:function(){m(!1),a("cancel"),c(!0)},className:o.actionButton,color:"secondary"},"Cancel"),r.a.createElement(Ee.a,{onClick:function(){var e;f(),(e=t,fetch("".concat(O,"/budget/").concat(e.id),{method:"DELETE"})).then((function(){return i(function(e){return{type:"DELETE_BUDGET",payload:e}}(t))})).then((function(){return a("delete"),void c(!0)})).catch((function(){return a("error"),void c(!0)}))},className:o.actionButton,color:"primary"},"Ok"))))}Tt.defaultProps={budget:{id:st.a.string.isRequired,type:st.a.string.isRequired,name:st.a.string.isRequired,category:st.a.string.isRequired,amount:st.a.number.isRequired,date:st.a.instanceOf(Date)}};var Rt=Object(oe.a)((function(e){return{search:Object(Te.a)({"& > *":{width:"20ch",fontSize:16}},e.breakpoints.down("md"),{"& > *":{fontSize:14,height:35}})}}));function Dt(e){var t=e.searchValue,a=e.setSearchValue,n=Rt();return r.a.createElement(xe.a,{className:n.search,InputLabelProps:{shrink:!0},label:"Search",placeholder:"Search history",size:"small",variant:"outlined",value:t,onChange:function(e){a(e.target.value)}})}var zt=Object(oe.a)((function(e){var t;return{root:{display:"flex",flexDirection:"column"},tools:(t={display:"flex",alignItems:"center",justifyContent:"space-between",margin:40,marginLeft:85,width:965},Object(Te.a)(t,e.breakpoints.down("md"),{width:820}),Object(Te.a)(t,e.breakpoints.down("sm"),{margin:"auto",marginTop:20,marginBottom:20,width:"100%",justifyContent:"space-evenly",flexWrap:"wrap",height:100}),Object(Te.a)(t,e.breakpoints.down("xs"),{height:150}),t),flexContainer:Object(Te.a)({display:"flex",alignSelf:"center",flexWrap:"wrap",justifyContent:"center",minHeight:"55vh",width:"96%"},e.breakpoints.down("md"),{width:"100%"}),card:Object(Te.a)({width:330,height:140,margin:"0 20px 20px 20px",boxShadow:e.shadows[5]},e.breakpoints.down("sm"),{margin:"0 10px 10px 10px"}),cardItem:{display:"flex",justifyContent:"space-between"},name:{color:e.palette.tertiary.light,fontWeight:600},category:{color:e.palette.tertiary.light,fontWeight:300},hr:{marginTop:40,marginBottom:10},pagination:{margin:"auto"},progress:{height:"55vh",margin:"auto",zIndex:e.zIndex.drawer+1}}}));function Bt(){var e=zt(),t=p(),a=t.state,c=t.loading,o=Object(n.useState)("all"),i=Object(d.a)(o,2),l=i[0],s=i[1],u=Object(n.useState)(!0),m=Object(d.a)(u,2),f=m[0],g=m[1],h=Object(n.useState)("all"),y=Object(d.a)(h,2),E=y[0],v=y[1],O=Object(n.useState)(""),j=Object(d.a)(O,2),w=j[0],x=j[1],C=Object(n.useState)(""),N=Object(d.a)(C,2),k=N[0],T=N[1],R=Object(n.useState)(!0),D=Object(d.a)(R,2),z=D[0],B=D[1],A=Object(n.useState)(!1),I=Object(d.a)(A,2),P=I[0],L=I[1],F=Object(n.useState)(1),W=Object(d.a)(F,2),_=W[0],U=W[1],M=a.budget.filter((function(e){return e.date.getTime()<=(new Date).getTime()})),G=a.budget.filter((function(e){return e.date.getTime()>(new Date).getTime()}));Object(n.useEffect)((function(){U(1)}),[l,f,E,w]);var H,q,V=z?M:G,Y="all"===l?Object(b.a)(V):V.filter((function(e){return e.type===l})),J=(H=Y,"daily"===(q=E)?H.filter((function(e){return e.date.getDate()===(new Date).getDate()&&e.date.getMonth()===(new Date).getMonth()&&e.date.getFullYear()===(new Date).getFullYear()})):"monthly"===q?H.filter((function(e){return e.date.getMonth()===(new Date).getMonth()&&e.date.getFullYear()===(new Date).getFullYear()})):"yearly"===q?H.filter((function(e){return e.date.getFullYear()===(new Date).getFullYear()})):Object(b.a)(H)).sort((function(e,t){return f?e.amount-t.amount:t.amount-e.amount})),Z=""===w?J:J.filter((function(e){return e.name.toLowerCase().startsWith(w.toLowerCase())})),$=Math.ceil(Z.length/6),K=6*(_-1),Q=K+6;return r.a.createElement("div",{className:e.root},r.a.createElement(Fe,null),r.a.createElement("div",{className:e.tools},r.a.createElement(_e,{isAscending:f,setIsAscending:g}),r.a.createElement(Me,{filterType:l,setFilterType:s}),r.a.createElement(xt,{filterDate:E,setFilterDate:v}),r.a.createElement(He,{isCurrent:z,setIsCurrent:B}),r.a.createElement(Dt,{searchValue:w,setSearchValue:x})),c?r.a.createElement("div",{className:e.progress},r.a.createElement(be.a,{size:50})):r.a.createElement("div",{className:e.flexContainer},Z.filter((function(e,t){return t>=K&&t<Q})).map((function(t){return r.a.createElement(Ot.a,{key:t.id,className:e.card},r.a.createElement(jt.a,null,r.a.createElement("div",{className:e.cardItem},r.a.createElement(S.a,{className:e.name},t.name),r.a.createElement("div",{className:e.amount},r.a.createElement(Nt,{budget:t,setSnackbarType:T,setSnackbarOpen:L}),r.a.createElement(Tt,{budget:t,setSnackbarType:T,setSnackbarOpen:L}))),r.a.createElement("hr",{className:e.hr}),r.a.createElement("div",{className:e.cardItem},r.a.createElement(S.a,{className:e.category},t.category),r.a.createElement(S.a,null,"expense"===t.type?"- ".concat(t.amount):"+ ".concat(t.amount)),r.a.createElement(S.a,{className:e.date},t.date.toLocaleDateString()))))}))),r.a.createElement(wt.a,{count:$,page:_,onChange:function(e,t){return U(t)},variant:"outlined",color:"secondary",className:e.pagination}),r.a.createElement(Ie,{type:k,open:P,setOpen:L}))}var At=a(135),It=Object(oe.a)((function(e){return{select:Object(Te.a)({width:"20ch",height:40,fontSize:16},e.breakpoints.down("md"),{fontSize:14,height:35}),label:Object(Te.a)({fontSize:16},e.breakpoints.down("md"),{fontSize:14}),selectRoot:{"&:focus":{background:"none"}}}}));function Pt(e){e.type;var t=e.setType,a=It();return r.a.createElement(ve.a,{variant:"outlined"},r.a.createElement(Oe.a,{className:a.label},"Chart type"),r.a.createElement(T.a,{className:a.select,classes:{root:a.selectRoot},variant:"outlined",defaultValue:"date",onChange:function(e){t(e.target.value)},label:"Chart type"},r.a.createElement(R.a,{className:a.item,value:"date"},"By date"),r.a.createElement(R.a,{className:a.item,value:"amount"},"By amount")))}var Lt=Object(oe.a)((function(e){var t;return{container:{display:"flex",flexDirection:"column"},header:{margin:"auto",textAlign:"center"},tools:(t={display:"flex",alignItems:"center",justifyContent:"space-between",margin:40,marginLeft:85,width:370},Object(Te.a)(t,e.breakpoints.down("md"),{width:350}),Object(Te.a)(t,e.breakpoints.down("sm"),{margin:"auto",marginTop:20,marginBottom:20,width:"100%",justifyContent:"space-evenly"}),t),paper:Object(Te.a)({width:"70%",padding:20,margin:"auto"},e.breakpoints.down("sm"),{width:"100vw",marginLeft:-15}),progress:{margin:"auto",zIndex:e.zIndex.drawer+1}}}));function Ft(){var e=Lt(),t=p(),a=t.state,c=t.loading,o=Object(n.useState)(!0),i=Object(d.a)(o,2),l=i[0],s=i[1],u=Object(n.useState)("date"),m=Object(d.a)(u,2),f=m[0],g=m[1],h=a.budget.filter((function(e){return e.date.getTime()<=(new Date).getTime()})),y=a.budget.filter((function(e){return e.date.getTime()>(new Date).getTime()})),E=l?h:y,v=E.reduce((function(e,t){return e.some((function(e){return e.category===t.category&&e.type===t.type}))?e:[].concat(Object(b.a)(e),[t])}),[]),O=E.sort((function(e,t){return e.date.getTime()-t.date.getTime()})),j=O.map((function(e){return e.date.toLocaleDateString()})),w=O.map((function(e){return"expense"===e.type?e.amount:0})),S=O.map((function(e){return"income"===e.type?e.amount:0})),x=v.map((function(e){return e.name})),C=v.map((function(e){return e.amount})),N=v.map((function(e){return e.color}));l||(j.unshift((new Date).toLocaleDateString()),w.unshift(0),S.unshift(0));var k={labels:j,datasets:[{label:"income",data:S,fill:!0,backgroundColor:"#76ff0335",borderColor:"#76ff03"},{label:"expense",data:w,fill:!0,backgroundColor:"#ff525235",borderColor:"#FF5D5D"}]},T={labels:x,datasets:[{data:C,backgroundColor:N}],display:!0,position:"top",fullWidth:!0,reverse:!1};return r.a.createElement("div",{className:e.container},r.a.createElement("header",{className:e.header},r.a.createElement("h1",null,"Total expenses and income")),r.a.createElement("div",{className:e.tools},r.a.createElement(He,{isCurrent:l,setIsCurrent:s}),r.a.createElement(Pt,{type:f,setType:g})),c?r.a.createElement("div",{className:e.progress},r.a.createElement(be.a,{size:50})):r.a.createElement(pe.a,{className:e.paper,elevation:5},"date"===f?r.a.createElement(At.b,{data:k}):r.a.createElement(At.a,{data:T})))}var Wt=Object(oe.a)((function(e){return{root:{display:"flex"},navigation:{flexShrink:0},content:{flexGrow:1,height:"auto",minHeight:"100vh",backgroundColor:"#f2f3f9",padding:e.spacing(3)}}})),_t={categories:[],budget:[]};function Ut(){var e=Wt(),t=Object(n.useReducer)(v,_t),a=Object(d.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(!1),l=Object(d.a)(i,2),s=l[0],u=l[1],p=Object(n.useState)("USD"),b=Object(d.a)(p,2),y=b[0],E=b[1],w=Object(n.useState)(!0),S=Object(d.a)(w,2),x=S[0],C=S[1],N=Object(n.useState)({USD:1,AMD:480,EUR:.91}),k=Object(d.a)(N,2),T=k[0],R=k[1];return Object(n.useEffect)((function(){fetch("http://www.floatrates.com/daily/usd.json").then((function(e){return e.json()})).then((function(e){return{USD:1,AMD:e.amd.rate,EUR:e.eur.rate}})).catch((function(){return!1})).then((function(e){e&&R(e)}))}),[]),Object(n.useEffect)((function(){fetch("".concat(O,"/categories")).then((function(e){return e.json()})).then((function(e){return o({type:"INIT_CATEGORY",payload:e})})).then((function(){return C(!1)})).catch((function(){return u(!0)})).then((function(){return C(!1)})),j().then((function(e){return o({type:"INIT_BUDGET",payload:e})})).then((function(){return C(!1)})).catch((function(){return u(!0)})).then((function(){return C(!1)}))}),[]),Object(n.useEffect)((function(){j().then((function(e){return e.map((function(e){return o(h(Object(m.a)({},e,{amount:Math.floor(e.amount*T[y])})))}))}))}),[y,T]),r.a.createElement(g.Provider,{value:{state:c,dispatch:o,currency:y,setCurrency:E,rate:T,loading:x}},r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.navigation},r.a.createElement(le,null)),r.a.createElement("div",{className:e.content},r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/"},r.a.createElement(at,null)),r.a.createElement(f.a,{path:"/Categories"},r.a.createElement(vt,null)),r.a.createElement(f.a,{path:"/History"},r.a.createElement(Bt,null)),r.a.createElement(f.a,{path:"/Charts"},r.a.createElement(Ft,null))))),r.a.createElement(Ie,{type:"error",open:s,setOpen:u}))}var Mt=function(){return r.a.createElement(l.a,{theme:u},r.a.createElement(i.a,null,r.a.createElement(Ut,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(384);o.a.render(r.a.createElement(Mt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[207,1,2]]]);
//# sourceMappingURL=main.e83d06f6.chunk.js.map